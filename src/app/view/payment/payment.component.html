<div id="contact">
  <section class="forms">
    <div class="container">
      <br />
      <br />
      <br />
      <br />

      <form
        *ngIf="!isSuccessful"
        name="form"
        #f="ngForm"
        novalidate
      >
        <div class="form">
          <div class="form_text">
            <span class="up_i">Favorite Bar</span>
            <h2>Payment & Delivery</h2>
          </div>

          <div class="form_info" style="display: flex; flex-direction: column">
            <div>
              <input
                placeholder="Name"
                type="text"
                name="name"
                [(ngModel)]="form.name"
                #name="ngModel"
                required
              />
              <div
                class="alert-danger field-error"
                *ngIf="name.errors && f.submitted"
                style="color: aliceblue"
              >
                <div *ngIf="name.errors.required">Username is required</div>
              </div>
            </div>
            <input
              placeholder="Email"
              type="email"
              name="email"
              [(ngModel)]="form.email"
              #email="ngModel"
              pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"
              required
            />
            <div
              class="alert-danger field-error"
              *ngIf="email.errors && f.submitted"
              style="color: aliceblue"
            >
              <div *ngIf="email.errors.required">Email is required</div>
              <div *ngIf="email.errors.pattern">
                Email must be a valid email address
              </div>
            </div>

            <input
              placeholder="Contact Number"
              type="text"
              name="mobileNo"
              [(ngModel)]="order.deliveryDto.mobileNo"
              required
            />
            <input
              placeholder="Street"
              type="text"
              name="address"
              [(ngModel)]="order.deliveryDto.address"
              required
            />
            <input
              placeholder="City"
              type="text"
              name="city"
              [(ngModel)]="order.deliveryDto.city"
              required
            />
            <input
              placeholder="District"
              type="text"
              name="district"
              [(ngModel)]="order.deliveryDto.district"
              required
            />

            <div>
              <select
                class="typeDDL"
                name="type"
                [(ngModel)]="form.type"
                #type="ngModel"
                required
              >
                <option value="" selected>--Select a payment mode--</option>
                <option value="cod">Cash on Delivery</option>
                <option value="card">Card</option>
              </select>
            </div>
            <div
              class="alert-danger field-error"
              *ngIf="type.errors && f.submitted"
              style="color: aliceblue"
            ></div>
            <!-- <input
              type="text"
              placeholder="Message"
              name="message"
              [(ngModel)]="form.message"
              #message="ngModel"
              required=""
              aria-rowcount="5"
              aria-rowspan="6"
            /> -->
            <textarea
              style="width: initial"
              type="text"
              placeholder="Message"
              name="deliveryNote"
              [(ngModel)]="order.deliveryDto.deliveryNote"
            ></textarea>

            <button class="button_line" (click)="onSubmit()">
              Place Order
            </button>
            <!--
                date picker  // get from api to findout
     <button class="button_line (click)="onSubmit()" >Reserve</button>

                package type // get form api url
              -->
          </div>

          <div class="container content">
            <section class="">
              <div class="container">
                <div class="row">
                  <table id="cart" style="border-radius: 5px">
                    <tr>
                      <th></th>
                      <th id="item">Item</th>
                      <th id="price">Price(LKR)</th>
                      <th id="discount">Discount</th>
                      <th id="quantity">Quantity</th>
                      <th></th>
                    </tr>
                    <tr *ngFor="let cItem of cartItemList">
                      <td></td>
                      <td>{{ cItem.item.name }}</td>
                      <td>{{ cItem.item.price | currency: " " }}</td>
                      <td></td>
                      <td>{{ cItem.count }}</td>
                      <td style="text-align: right">
                        {{ cItem.count * cItem.item.price | currency: " " }}
                      </td>
                    </tr>
                    <tr>
                      <td style="text-align: left">Total Quantity</td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td>{{ totalQuantity }}</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td style="text-align: left">Total Price(LKR)</td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td>{{ totalPrice | currency: " " }}</td>
                    </tr>
                  </table>
                </div>
              </div>
              <br /><br />
            </section>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
