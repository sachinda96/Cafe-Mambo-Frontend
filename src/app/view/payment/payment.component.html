<div id="contact" *ngIf="userId != '' || (userId != null && totalQuantity > 0)">
  <section class="forms">
    <br />
    <br />
    <br />
    <br />
    <br />

    <br />
    <div class="container">
      <div class="row">
        <div class="col-75">
          <div class="form">
            <!--class="container"-->

            <div class="row">
              <form
                *ngIf="!isOrderSuccessful || showDeliveryDetails"
                name="form"
                #f="ngForm"
                novalidate
              >
                <div class="col-50 form_info">
                  <h3>Billing Address</h3>
                  <label for="fname"
                    ><i class="fa fa-user"></i> Full Name</label
                  >
                  <div>
                    <input
                      type="text"
                      id="fname"
                      placeholder="John M. Doe"
                      name="name"
                      [(ngModel)]="form.name"
                      #name="ngModel"
                      required
                    />
                    <div
                      class="alert-danger field-error"
                      *ngIf="name.errors && f.submitted"
                      style="color: aliceblue"
                    >
                      <div *ngIf="name.errors.required">
                        Username is required
                      </div>
                    </div>
                  </div>

                  <label for="adr"
                    ><i class="fa fa-address-card-o"></i> Address</label
                  >
                  <input
                    type="text"
                    id="adr"
                    name="address"
                    placeholder="542 W. 15th Street"
                    [(ngModel)]="order.deliveryDto.address"
                    required
                  />
                  <label for="city"
                    ><i class="fa fa-institution"></i> City</label
                  >
                  <input
                    type="text"
                    id="city"
                    name="city"
                    placeholder="Colombo"
                    [(ngModel)]="order.deliveryDto.city"
                    required
                  />

                  <div class="row">
                    <div class="col-50">
                      <label for="district">District</label>
                      <input
                        type="text"
                        id="district"
                        name="district"
                        placeholder="Colombo"
                        [(ngModel)]="order.deliveryDto.district"
                        required
                      />
                    </div>
                    <div class="col-50">
                      <label for="zip">Contact No</label>
                      <input
                        type="text"
                        id="mobileNo"
                        name="mobileNo"
                        placeholder="10001"
                        [(ngModel)]="order.deliveryDto.mobileNo"
                        required
                      />
                    </div>
                    <div class="col-50">
                      <label for="mop">Method of Payment</label>
                      <select
                        class="typeDDL"
                        id="mop"
                        name="type"
                        [(ngModel)]="form.type"
                        #type="ngModel"
                        required
                        style="color: black; font-size: 0.7rem"
                      >
                        <option value="" selected>
                          ------------------Please Select------------------
                        </option>

                        <option value="card" selected>Card</option>
                        <option value="cod">Cash on Delivery</option>
                      </select>
                    </div>
                  </div>
                </div>

                <a
                  class="button_fill"
                  style="margin-left: 2%"
                  (click)="onSubmit()"
                  *ngIf="form.type == 'cod'"
                  >Continue to checkout</a
                >
                <a
                  class="button_fill"
                  style="margin-left: 2%"
                  (click)="onSubmit()"
                  *ngIf="form.type == 'cash'"
                  >Place Order</a
                >
              </form>
              <alert type="success" *ngIf="isOrderSuccessful">
                <strong>Well done!</strong> Order is Successfully Completed
                <a href="#" class="alert-link">this important alert message</a>.
              </alert>
              <alert type="danger" *ngIf="isOrderFail">
                <strong style="color: black">Try Again..!</strong>
                <a href="#" class="alert-link"></a>
              </alert>
            </div>
          </div>
        </div>
        <div class="col-25">
          <div class="container">
            <table style="border-color: black">
              <thead>
                <tr>
                  <th>Cart</th>
                  <th>
                    <i class="fa fa-shopping-cart"></i>
                    <b>{{ totalQuantity }}</b>
                  </th>
                </tr>
                <tr *ngFor="let cartItem of cartItemList">
                  <td>{{ cartItem.item.name }}</td>
                  <td class="price">
                    {{ cartItem.item.price | currency: "Lkr " }}
                  </td>
                </tr>
                <tr>
                  <td>Total</td>
                  <td class="price">
                    {{ totalPrice | currency: "LKR " }}
                  </td>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <br />
      <br />
      <br />
      <br />
    </div>
  </section>
</div>
<ngx-spinner
  bdColor="rgba(229,221,221,0.8)"
  size="medium"
  color="#fff"
  type="ball-zig-zag-deflect"
  [fullScreen]="false"
>
  <p style="font-size: 20px; color: white">Processing....</p></ngx-spinner
>
